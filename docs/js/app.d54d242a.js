(function(t){function e(e){for(var o,i,c=e[0],l=e[1],u=e[2],s=0,p=[];s<c.length;s++)i=c[s],r[i]&&p.push(r[i][0]),r[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);f&&f(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(o=!1)}o&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={app:0},a=[];function i(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"41d636ee"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise(function(e,o){n=r[t]=[e,o]});e.push(n[2]=o);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(t),a=function(e){l.onerror=l.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+o+": "+a+")");i.type=o,i.request=a,n[1](i)}r[t]=void 0}};var u=setTimeout(function(){a({type:"timeout",target:l})},12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/g.roadkill-go-pwa/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var s=0;s<l.length;s++)e(l[s]);var f=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" |\n    "),n("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),n("router-view")],1)},a=[],i=(n("7faf"),n("2877")),c={},l=Object(i["a"])(c,r,a,!1,null,null,null),u=l.exports,s=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-leaflet"},[n("l-map",{ref:"leaflet",staticStyle:{width:"100%",height:"calc(100vh - 78px)"},attrs:{zoom:t.zoom,center:t.center}},[n("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),n("l-marker",{attrs:{"lat-lng":t.marker}},[n("l-popup",{attrs:{content:t.text}})],1),n("l-control",{attrs:{position:"bottomleft"}},[n("button",{on:{click:t.onStart}},[t._v("Tracking!")]),n("button",{on:{click:t.onStop}},[t._v("Stop")])])],1)],1)},p=[],h=n("1fee"),d=n("63ea"),g={name:"home",data:function(){return{userMarker:null,coords:[],isWatch:!1,watchId:null,trackId:"",trackingData:[],trackInfo:{totalDistance:[]},zoom:13,center:window.L.latLng(47.41322,-1.219482),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',marker:window.L.latLng(47.41322,-1.219482),text:"this is a marker"}},computed:{getLocation:function(){return Object(h["uniqWith"])(this.coords,d["isEqual"])},totalDistance:function(){var t=this.getLocation,e=t[t.length-1],n=t[t.length-2];return n&&e?(this.trackInfo.totalDistance+=this.gpsDistance(n.lat,n.lng,e.lat,e.lng),this.trackInfo.totalDistance):null}},methods:{onStart:function(){this.isWatch=1,this.onWatch()},onStop:function(){this.isWatch=0,this.offWatch()},offWatch:function(){navigator.geolocation.clearWatch(this.watchId)},onWatch:function(){var t=this;this.isWatch&&(this.watchId=navigator.geolocation.watchPosition(function(e){return t.addMarker(e.coords.latitude,e.coords.longitude)},function(t){return console.warn(t)},{enableHighAccuracy:!0,timeout:3e3,maximumAge:0,distanceFilter:1}))},addMarker:function(t,e){var n=this.$refs.leaflet.mapObject;this.userMarker&&n.removeLayer(this.userMarker);var o=window.L;this.coords.push(o.latLng(t,e)),this.userMarker=o.marker(o.latLng(t,e)).addTo(n);var r=o.polyline(this.coords);n.fitBounds(r.getBounds()),n.addLayer(r),n.panTo([t,e],18)},gpsDistance:function(t,e,n,o){var r=6371,a=(n-t)*(Math.PI/180),i=(o-e)*(Math.PI/180);t*=Math.PI/180,n*=Math.PI/180;var c=Math.sin(a/2)*Math.sin(a/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(t)*Math.cos(n),l=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),u=r*l;return u}}},m=g,v=Object(i["a"])(m,f,p,!1,null,null,null),b=v.exports;o["a"].use(s["a"]);var w=new s["a"]({routes:[{path:"/",name:"home",component:b},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),k=n("9483");Object(k["a"])("".concat("/g.roadkill-go-pwa/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var y=n("2699"),M=n("a40a"),j=n("4e2b"),O=n("f60f"),_=n("2253"),I=n("e11e");n("6cc5");o["a"].component("l-map",y["a"]),o["a"].component("l-tile-layer",M["a"]),o["a"].component("l-marker",j["a"]),o["a"].component("l-popup",O["a"]),o["a"].component("l-control",_["a"]),delete I["Icon"].Default.prototype._getIconUrl,I["Icon"].Default.mergeOptions({iconRetinaUrl:n("584d"),iconUrl:n("6397"),shadowUrl:n("e2b9")}),o["a"].config.productionTip=!1,new o["a"]({router:w,render:function(t){return t(u)}}).$mount("#app")},"7faf":function(t,e,n){"use strict";var o=n("8fba"),r=n.n(o);r.a},"8fba":function(t,e,n){}});
//# sourceMappingURL=app.d54d242a.js.map